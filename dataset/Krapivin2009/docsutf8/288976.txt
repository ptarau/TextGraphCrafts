--T
Directions of Motion Fields are Hardly Ever Ambiguous.
--A
If instead of the full motion field, we consider only the direction
of the motion field due to a rigid motion, what can we say about the
three-dimensional motion information contained in it? This paper provides a
geometric analysis of this question based solely on the constraint that the
depth of the surfaces in view is positive. The motivation behind this
analysis is to provide a theoretical foundation for image constraints
employing only the sign of flow in various directions and justify their
utilization for addressing 3D dynamic vision problems.It is shown that, considering as the imaging surface the whole sphere,
independently of the scene in view, two different rigid motions cannot give
rise to the same directional motion field. If we restrict the image to half
of a sphere (or an infinitely large image plane) two different rigid motions
with instantaneous translational and rotational velocities(t<math>_1
cannot give rise to the same
directional motion field unless the plane through t_1 and
t_2 is perpendicular to the plane through
_1 and _2 (i.e., (t_1
t_2)  (_1
In addition, in order to give practical
significance to these uniqueness results for the case of a limited field of
view, we also characterize the locations on the image where the motion
vectors due to the different motions must have different directions.If (_1  _2)
(t_1  t_2) &equals; 0 and certain
additional constraints are met, then the two rigid motions could produce
motion fields with the same direction. For this to happen the depth of each
corresponding surface has to be within a certain range, defined by a second
and a third order surface. Similar more restrictive constraints are obtained
for the case of multiple motions. Consequently, directions of motion fields
are hardly ever ambiguous. A byproduct of the analysis is that full motion
fields are never ambiguous with a half sphere as the imaging surface.
--B
addition, in order to give practical significance to these uniqueness results for the case of
a limited field of view, we also characterize the locations on the image where the motion
vectors due to the different motions must have different directions.
additional constraints are met, then the two rigid
motions could produce motion fields with the same direction. For this to happen the depth
of each corresponding surface has to be within a certain range, defined by a second and a
third order surface. Finally, as a byproduct of the analysis it is shown that if we also consider
the constraint of positive depth the full motion field on a half sphere uniquely constrains 3D
motion independently of the scene in view.
The support of the Advanced Research Projects Agency (ARPA Order No. 8459) and the U.S. Army
Topographic Engineering Center under Contract DACA76-92-C-0009, the Office of Naval Research under
Contract N00014-93-1-0257, National Science Foundation under Grant IRI-90-57934, , and the Austrian
"Fonds zur F-orderung der wissenschaftlichen Forschung", project No. S 7003, is gratefully acknowledged.
1 Introduction and Motivation
The basis of the majority of visual motion studies has been the motion field, i.e., the projection
of the velocities of 3D scene points on the image. Classical results on the uniqueness of
motion fields [6, 9, 10] as well as displacement fields [8, 12, 14] have formed the foundation
of most research on rigid motion analysis that addressed the 3D motion problem by first
approximating the motion field through the optical flow and then interpreting the optical
flow to obtain 3D motion and structure [2, 7, 13, 15].
The difficulties involved in the estimation of optical flow have recently given rise to a
small number of studies considering as input to the visual motion interpretation process
some partial optical flow information. In particular the projection of the optical flow on
the gradient direction, the so-called normal flow [5, 11], and the projections of the flow on
different directions [1, 3] have been utilized. In [3] constraints on the sign of the projection
of the flow on various directions were presented. These constraints on the sign of the flow
were derived using only the rigid motion model, with the only constraint on the scene being
that the depth in view has to be positive at every point-the so-called "depth-positivity"
constraint. In the sequel we are led naturally to the question of what these constraints,
or more generally any constraint on the sign of the flow, can possibly tell us about three-dimensional
motion and the structure of the scene in view. Thus we would like to investigate
the amount of information in the sign of the projection of the flow. Since knowing the sign
of the projection of a motion vector in all directions is equivalent to knowing the direction of
the motion vector, our question amounts to studying the relationship between the directions
of 2D motion vectors and 3D rigid motion.
We next state the well-known equation for rigid motion for the case of a spherical imaging
surface. We describe the constraints and discuss the information exploited when using the
full flow as opposed to the information employed when using only the direction of flow. As
will be shown, whereas full flow allows for derivation of the direction of translation and the
complete rotation, from the orientation of the flow only the direction of translation and the
direction of rotation can be obtained.
The 2D motion field on the imaging surface is the projection of the 3D motion field of
the scene points moving relative to that surface. Suppose the observer is moving rigidly
with instantaneous translation

Figure

1); then each scene point measured with respect to a coordinate system
OXY Z fixed to the camera moves relative to the camera with velocity -
R, where
If the center of projection is at the origin and the image is formed on a sphere with radius
1, the relationship between the image point r and the scene point R under perspective
projection is
R
with jRj being the norm of the vector R.
R
f
O

Figure

1: Image formation on a spherical retina under perspective projection.
If we now differentiate r with respect to time and substitute for -
R, we obtain the following
equation for -
r:
(r \Theta (t \Theta
The first term v tr (r) corresponds to the translational component which depends on the depth
the distance of R to the center of projection. The direction of v tr
(r) is along great
circles (longitudes) pointing away from the Focus of Expansion (t) and towards the Focus of
Contraction (\Gammat). The second term v rot (r) corresponds to the rotational component which
is independent of depth. Its direction is along latitudes around the axis of rotation (coun-
around ! and clockwise around \Gamma!). See Figure 2a, b and c for translational,
rotational, and general motion fields on the sphere.
(a) (b) (c)

Figure

2: Example of (a) a rotational, (b) a translational, (c) a general motion field on a
sphere.
As can be seen, without additional constraints there is an ambiguity in the computation
of shape and translation. It is not possible to disentangle the effects of t and jRj, and thus
we can only derive the direction of translation. If all we have is the direction of the flow we
can project -
r on any unit vector n i on the image and obtain an inequality constraint:
r
From this inequality we certainly cannot recover the magnitude of translation, since the
optical flow already does not allow us to compute it.
In addition we are also restricted in the computation of the rotational parameters. If
we multiply ! by a positive constant, leave t fixed, but multiply 1
by the same positive
constant, the sign of the flow is not affected. Thus from the direction of the flow we can at
most compute the axis of rotation and, as discussed before, the axis of translation. Hereafter,
for the sake of brevity, we will refer to the motion field also as the flow field or simply flow,
and to the direction of the motion field as the directional flow field or simply directional
flow.
Between the Orientation of the Flow and the Depth-positivity
Constraint
If we have the flow -
r, we know the value of the projection of -
r on any direction and we set all
the possible information by choosing two directions
and
(usually orthogonal). Thus
we have
r
We can solve equation (1) for the depth,
r
Knowing the value in both directions n 1
and
we know that the inverse depth has to
be the same, and also has to be positive; thus
r
r
If on the other hand we do not use the value of the flow but only its direction and thus the
sign of the projection of the flow on n i , then the only constraint that can be utilized is the
inequality, which comes from the fact that the depth is positive. Using only the orientation
of the flow we obtain for every direction
r
This inequality provides inequality constraints on the rotational and translational compo-
nents, which are independent of the scene: If we consider the sign of the translational
component ((t and the sign of the rotational component (! \Theta r) \Delta n i and assume
that each of them is either positive or negative, there are 2 \Theta combinations of signs.
But once we know the sign of the flow -
r one of these four combinations is no longer
possible. This observation has been used in the development of global constraints for 3D
motion estimation. Choosing directions n i in particular ways the signs of ( -
r
patterns of positive and negative areas on the image [3-5]. These patterns, whose location
and form encodes information about 3D motion, were successfully used in the recovery of
egomotion. In this paper, by pursuing a theoretical investigation of the amount of information
present in directional flow fields, we demonstrate the power of the qualitative image
measurements already used empirically, and justify their utilization in global constraints for
three-dimensional dynamic vision problems.
The organization of this paper is as follows: In Section 3 we develop the preliminaries-
constraints that will be used in the uniqueness analysis. Given two rigid motions, we study
what the constraints are on the surfaces in view for the two motion fields to have the same
direction at every point. From these constraints, we investigate for which points of the image
one of the surfaces must have negative depth. The locations where negative depth occurs
are described implicitly in the form of constraints on the signs of functions depending on the
image coordinates and the two three-dimensional motions. The existence of image points
whose associated depth is negative ensures that the two rigid motions cannot produce motion
fields with the same direction. In Section 4, which contains the main uniqueness proof, we
study conditions under which two rigid flow fields could have the same direction at every
point on a half sphere (i.e., conditions under which there do not exist points of negative
depth), and we visualize the locations of negative depth on the sphere. Section 5 is devoted
to the treatment of special cases. As a byproduct of the analysis, in Section 6 we investigate
the ambiguity of rigid motion for full flow assuming that depth has to be positive, and show
that any two different motions can be distinguished on a hemispherical image from full flow.
Section 7 summarizes the results. Appendix A studies whether more than two rigid motions
could produce the same directional flow field, and the rest of the Appendices (B-F) describe
and prove a number of geometric properties used in the main part of the paper.
3 Critical Surface Constraints
Let us assume that two different rigid motions yield the same direction of flow at every point
in the image. Let t 1 and ! 1 be translational and rotational velocities of the first motion,
and let t 2
be translational and rotational velocities of the second motion. Since from
the direction of flow we can only recover the directions of the translation and rotation axes,
we assume all four vectors t 1
to be of unit length. Let Z 1
(r) and Z 2
(r) be the
mapping points r on the image into the real numbers, that represent the depths
of the surfaces in view corresponding to the two motions. In the future we will refer to Z 1
and Z 2
as the two depth maps. In this section we investigate the constraints that must be
satisfied by Z 1
and Z 2
in order for the two flow fields to have the same direction.
We assume that the two depths are positive, and allow Z 1
or Z 2
to be infinitely large.
Thus we assume 1=Z 1
3.1 Notation
We start by defining some notation:
(2)
c denotes the triple product of vectors a, b and c.
These functions have a simple geometric meaning. If ! 1
any r. If ! 1
is zero for points r lying on a geodesic passing through
. In this case f ! defines the locus of points r where v rot 1
(r), the rotational
component of the first motion, is parallel to v rot 2
(r), the rotational component of the second
motion. Similarly f t (r) is either zero everywhere, or it is zero for points lying on a geodesic
passing through t 1
and t 2
. In this case f t is the locus of points r where v tr 1
(r), the
translational component of the first motion, is parallel to v tr 2
(r), the translational component
of the second motion.
r. If they are non-zero, then g ij (r) is
zero at points lying on a second order curve consisting of two closed curves on the sphere,
the so-called zero motion contour of motion defines the locus
of points where v rot i
(r) is parallel to v tr j
(r) (see

Appendix

B). Throughout the paper the
functions and the curves defined by their zero crossings will play very
important roles.
To simplify the notation we will usually drop r and write only f i and g ij where the index
i in f i can take values t and !. There is a simple relationship between f i and g ij . Let
\Theta r)) \Theta (! 1
\Gammag 11
r
\Theta r)) \Theta (! 2
\Gammag 22
r
Since we assume (r \Delta
22
Let
\Theta r) \Theta (r \Theta (! 2
\Theta
Then
From equations (3) and (4) we get
3.2 Conditions for ambiguity
Assuming that motion
and motion
give rise to flow fields with the same direction at any point; then there exists - ? 0 such
that
(r \Theta (t 1
\Theta
\Theta
(r \Theta (t 2
\Theta
\Theta r) (6)
By projecting the vector equation (6) on directions t 2 \Theta r and r \Theta (! 2 \Theta r) we obtain two
scalar
\Theta r) \Delta (t 2
\Theta
\Theta r) \Delta (t 2
\Theta r) (7)Z 1
Since - is positive, from (7) and (8) we get constraints on 1
22
where sgn(\Delta) denotes the sign function.
Let us define s 1
\Gammag
. At any point, f i and g ij are constant, so
equations simple constraints on 1
. We call them the s 1
-constraint and
the s 0-constraint respectively.
Similarly we can project equation (6) on vectors t 1
\Theta r and r \Theta (! 1
\Theta r) and obtain
constraints on 1
We define s 2
. Equations (11) and (12) provide constraints on 1
and we thus call them the s 2
-constraint and the s 0-constraint.
Let us now interpret these constraints: 1
is always non-negative; thus, if the two motions
corresponding depth maps Z 1
and Z 2
produce flow with the same
direction, the depth Z 1
must satisfy
either 1
or 1
Thus Z 1
has a relationship to the surfaces:
and
Equations (13) and (14) provide hybrid definitions of scene surfaces. To express the surfaces
in scene coordinates R, we substitute in the above equations Dividing (13) by
Z(r) and replacing Z(r) 2 by R 2 in (14) we obtain
\Theta t 2
\Theta
and (! 2
Thus we see that Z 1 is constrained through (15) by a second order surface and through (16)
by a third order surface. At some points it has to be inside the first surface and at some
points it has to be outside the first surface. In addition, at some points it has to be inside the
(a) (b)

Figure

3: Two rigid motions (t 1
constrain the possible depth Z 1
of the first
surface by a second and a third order surface. The particular surfaces shown in the coordinate
system of the imaging sphere, projected stereographically, correspond to the motion
configuration of Figure 7.
second surface and at some points it has to be outside the second surface. Figure 3 provides
a pictorial description of the two surfaces constraining Z 1
Analogous to the above derivation, from equations (11) and (12) we obtain a further
second and third order surface pair, which constrain the depth map Z 2
3.3 Interpretation of surface constraints
We next describe the s 1 - and s 0-constraints in detail. For convenience, we express these
constraints for 1
then the s 1
-constraint is sgn(g 12
does not depend on Z 1
Thus it is either satisfied by any Z 1
, or it cannot be satisfied by any Z 1
If f t 6= 0, then we get the s 1
-constraint
constraint is
, if sgn(g 22
, if sgn(g 22
, if sgn(g 22
If g 21
0, then the s 0-constraint does not depend on Z 1
22
Since we assume 1
22
is either 0, or sgn(g 22
). So the s 0-constraint is
At each point we have the additional constraint 1
- 0. If all three constraints can
be satisfied simultaneously at a point in the image, then there is an interval (bounded or
unbounded) of values of Z 1
satisfying them. If the constraints cannot be satisfied, this means
that the two flows at this point cannot have the same direction and we say that we have a
contradictory point.
In the following table we summarize the three constraints on 1
. According to the
inequality relationships from the s 1
-constraint and the s 0-constraint we classify the image
points into four categories (type I-IV). The table analyzes the general case, at a point where
Type s 1
-constraint s 0-constraint 1
solution interval Solution exists if
I
If some of f i are zero at a point, we may obtain constraints that do not depend on
, or equality constraints.
In the table above each image point is assigned to one of four categories (see Figure 4 for
an example). Whether, for a given image point, there actually exists a value for 1
satisfying
the constraints depends on whether the solution interval at that point is empty or not. Thus
we classify all image points on the sphere into three categories, A, B, and C, depending on
the kind of solution interval that exists for Z 1 :(A) there exists no solution for there
exists a solution, and the interval for Z 1
is (B) bounded, or (C) unbounded. In the latter
two cases, we can also check whether the interval has a lower bound greater than 0.

Figure

4: Classification of image points by s 1
-constraint and s 0-constraint.
The classification of a point into one of the categories (I-IV) depends on the signs of f t ,
, and g 22
. The existence of a solution interval at a point also depends on the signs of f !
and g 12
at that point and also on the relative values of s 1
and s 0, i.e., on the sign of s 1
are polynomial functions of r. To find out where they change
sign, it is enough to find points where they are zero. The sign of s 1
since s 1
(r) and s 0(r) do not have to be continuous. However their discontinuities occur at
points where f t
can change at those points and at
points where s 1
Using (5), we can write
22
So we see that sgn(s 1
change only at points where at least one of f i , g ij is zero.
At points where g 22
we have the s 1
-constraint 1
and the s 0-constraint 1
thus at these points the depth Z 1 is uniquely defined.
Let us consider the implicit curves f i In the general case, these
equations describe two geodesics and four zero motion contours. Each of the curves divides
the sphere into areas where the solution interval for Z 1
could be different (areas of class A,
B, C). However, not every point on the curves separates different areas. Inside any of the
areas, all the points have the same classification (for example an infinite solution interval for
with a positive lower bound). Figure 5 shows an example of this classification, although
the derivation of how to actually obtain the areas where there does not exist a solution is
deferred to the next subsection.
A

Figure

5: Classification of image points according to the solution interval. (The corresponding
motion configuration is displayed in Figure 7.)
Up to this point we have been discussing only the constraints for Z 1 . Similarly, from (11)
and (12) we have at any point the s 2
-constraint
, or 1
), and the
We obtain the same curves dividing the sphere
into areas such that inside any of the areas, the type of solution interval for Z 2 is the same.
Now we can summarize the results. The curves f i separate the
sphere into a number of areas. Each of the areas is either contradictory (i.e., containing only
contradictory points), or ambiguous (i.e., containing points where the two motion vectors
can have the same direction). Two different rigid motions can produce ambiguous directions
of flow if the image contains only points from ambiguous areas. There are also two scene
surfaces constraining depth Z 1
and two surfaces constraining depth Z 2
. If the depths do not
satisfy the constraints, the two flows are not ambiguous.
3.4 Contradictory points
In this section we investigate conditions that must be satisfied when a point is contradictory.
Since the type of solution for Z 1
and Z 2
depends on the signs of f i and g ij , we want to
describe sign combinations that yield a contradiction. We investigate the general case, i.e.,
we assume f i 6= 0, and g ij 6= 0 and use the resulting constraints in Section 4. Special cases
are treated separately in Section 5.
There are two simple conditions yielding contradiction for Z 1
, one for the s 1
-constraint
and one for the s 0-constraint. There is no solution for Z 1
and s 1
- 0. This
happens under the following condition
which is derived from equation (9). Similarly, from (10) we get a contradiction if 1
We get similar conditions for Z 2
. There is no solution for Z 2
and s 2
- 0, or ifZ 2
This happens under conditions C 3
and C 4
and
We call these four constraints (C 1
Contradictory Point conditions, or CP-conditions for
short. Next we show that a point (where f i 6= 0 and g ij 6= 0) is contradictory if and only if
at least one of the four conditions is satisfied.
Let us assume that conditions (18) and (19) are not satisfied at some point, but we have
a contradiction for Z 1 . Then the point must be of type II or III, since there is always a
solution for points of type I, and a point of type IV is contradictory only if (18) or (19)
holds.
For a point of type II, 1
s 0, but (19) is not satisfied, so we have s 0- 0. A contradiction
is possible only if s 1
happens when sgn(g 22
sgn(g 22
and s 1
), from (17) we obtain
Thus in this case condition (20) holds.
We obtain the same result for points of type III. Since (18) is not satisfied, we have
a contradiction is possible only if s happens when
sgn(g 22
and
and again condition (20) holds.
Thus if there is no solution for Z 1 , at least one of conditions (18), (19) and (20) must
hold. Similarly if there is no solution for Z 2
, at least one of conditions (18), (20) and (21)
must hold.
By examination of all the possibilities, we can show that at any point, either none of
the CP-conditions holds (and the point is ambiguous), or exactly two of the conditions hold
(and the point is contradictory).
Antipodal pairs of points
In this section we investigate constraints for a point r and its antipodal point \Gammar to be both
ambiguous or to be both contradictory.
Again we describe a general case, i.e., assume f i 6= 0 and
holds either at r, or at \Gammar. We get similar results for the remaining three
CP-conditions. Thus both point r and point \Gammar are ambiguous only if
Point r and point \Gammar can also both be contradictory. As shown in Appendix F, this
happens when
4 The Geometry of the Depth-Positivity Constraint
In the last section we found that if the CP-conditions hold at a point on the imaging surface,
then one of the depth values has to be negative and thus the point is contradictory. In this
section we investigate these constraints further; in particular we would like to know under
what conditions two rigid motions cannot be distinguished if our imaging surface is a half
sphere or an image plane, and we are interested in studying and visualizing the locations of
areas where the CP-conditions are met.
Considering as imaging surface the whole sphere, two different rigid motions cannot
produce flow of the same direction everywhere. As shown in Section 3.5, two antipodal
points r and \Gammar are ambiguous only if (22) holds. Thus for any point on curve
the sign of g ij is positive on one side of the curve and negative on the other, there must exist
a neighborhood either around r or around \Gammar where there is a contradiction.
We are now ready, using the machinery already developed, to study uniqueness properties.
As in the previous section, we assume that vectors t 1 , are of unit length.
4.1 Half sphere image: The general case
Let us assume that the image is a half of the sphere. Let us also assume that
\Theta t 2
We show that under this condition the two rigid motions cannot produce motion fields with
the same direction everywhere in the image.
Let us consider the projections of ! 1
on a geodesic n connecting t 1
and t 2
Projection onto the geodesic is well defined for all points r such that r \Theta (t 1 \Theta t 2
we assume (24), the projections of both
are well defined. The proof is given in
parts A and B.
A: Let us first assume that one of
does not lie on geodesic n. Without loss of
generality, let it be ! 1

Figure

Possible sign combinations of g 11
and g 12
in the neighborhood of r 1
The projection of ! 1
onto n is
\Theta t 2
\Theta t 2
where the sign is chosen so that r 1
is in the image. Then
\Theta t 2
\Theta t 2
\Theta t 2
and g 11
the s 0-constraint is sgn( 1
Clearly, this constraint cannot be satisfied, so r 1
is a contradictory point.
We can also show that at least one of the areas around point r 1
is contradictory. Point r 1
lies on zero motion contours g 11
If the two contours cross at this point

Appendix

C shows that g 11 cannot be tangent), we obtain four
areas in the neighborhood of r 1
, and all four possible sign combinations of g 11
and g 12
. If we
look at points close enough to r 1
(so that f ! does not change sign), then condition (21) is
satisfied in one of the areas, and that area is contradictory. For an illustration see Figure 6.
B: Now we need to consider the situation where both
lie on geodesic n, i.e.,
us consider point
. We know f t (! 1
is parallel to (t i \Theta ! 1
) is zero. However, from (24) we
have
\Theta t 2
or g 22
is non-zero at
If g 21
cannot be satisfied and ! 1
is a contradictory point.
Again, it is not a singular point. The line tangent to g 11
at
has direction ! 1
(and
6= 0, since g 21
is perpendicular to n at this point. Since f t is
identical to n, curves
with all possible sign
combinations. Thus in one of the areas, condition (20) holds, and we obtain a contradictory
area.
If g 22
cannot be satisfied at
. Again, at least one area
is contradictory, since contour g 12
is perpendicular to n at this point. This
concludes the proof that if (24) is satisfied there exist contradictory areas on the half sphere.
Section 4.2 discusses the case when (24) is not satisfied.
The rest of this section describes properties of the contradictory areas in order to provide
a geometric intuition.
Just as we projected ! 1
on geodesic n connecting t 1
and t 2
to obtain r 1
, we project ! 2
on n to obtain r 2
, and we project t 1
and t 2
on geodesic l, connecting
, to obtain
and r 4
(see

Figure

7). Point r 2
is at the intersection of f
22
is
at the intersection of f
is at the intersection of f
22
By the same argumentation as before, at each of the points we can
choose two of the contours f passing through the point and we obtain four
areas of different sign combinations in the corresponding terms f i and g ij around the point;
it can be shown that one of these areas is contradictory because one of the CP-conditions is
met.
The CP-conditions are constraints on the signs of the terms f i and g ij . Thus the boundaries
of the contradictory areas are formed by the curves f As we have
shown the contradictory area and its boundaries must contain the points r 1
, and r 4
For some motion configurations the boundaries also might contain t 1
. It
can, however, be verified that no neighborhood around t 1
needs to be con-
tradictory. It can also be verified, by examining all the possibilities for the signs of terms f i
ij in the CP-conditions, that points t 1 , lie inside a contradictory
area, since at least one of their neighboring areas is ambiguous. Figures 8 and 9 show the
contradictory areas for both halves of the sphere for two different motion configurations.
r
r
r
l1222
x

Figure

7: Separation of the sphere through curves f Each of t 1
, and r 4
lies at the intersection of three curves.
(a) (b)

Figure

8: Contradictory areas for both halves of the sphere for the two motions shown in

Figure

7.
Finally, let us consider the boundaries of the contradictory areas. As defined in Section 3,
we allow the depths of the surfaces in view to take any value greater than zero (including
infinity). Thus at any point r the motion vector -
r could be in the direction of v rot (r), but not
in the direction of v tr
(r). This allows us to describe the depth values at possible boundaries
of a contradictory area: At points on curve f
and Z 2
can be infinite, thus
boundary points on this curve are not elements of the contradictory area. Boundary points
on all other curves (f are contradictory, since one of the depths Z 1
and Z 2
(a) (b) (c)

Figure

9: (a) Motion configuration. (b) and (c) Contradictory areas for both halves of the
sphere.
would have to be zero.
4.2 Half sphere image: The case when (t 1
\Theta t 2
is perpendicular to (! 1
In this section it is shown that there could exist (t 1
\Theta t 2
to (! 1
), such that there exist no contradictory areas in one hemisphere.
First we investigate possible positions of points t 1
on the hemisphere,
bounded by equator q. Then we describe additional conditions on the orientation of vectors
respect to the hemisphere.
As shown in Section 3.5, two antipodal points r and \Gammar can be ambiguous only if (22)
holds. Thus if the border of the area defined by (22) intersects q, there will be a contradiction
in the image.
If curve intersects q at point p, at least one of the areas around p does not satisfy
condition (22). Unless all are on the boundary of the hemisphere (and then
the motions are not ambiguous), there is a contradictory area in the image (either around
or around \Gammap).
be the normal to the plane of q. By intersecting the zero motion contour
with the border q of the hemisphere (see Appendix D), we find that real solutions for the
intersection point are obtained only if
A half sphere contains for each of the translation vectors t i and the rotation vectors
exactly one of the vectors +t i or \Gammat i and +! i or \Gamma! i . Let us refer to the vectors
in the considered hemisphere as ~ t i and ~
From equation (27), taking into account that
we see that l ? 0, either if for any ~
(i.e., ~
an angle greater than 90 ffi ), or ( ~
are such
that
which means that ~
must be close to the
border.
is perpendicular to f the projections of ! 1
on f and the
projections of t 1
and t 2
on
. Point r 1
lies at the intersection of all six curves f
Any three curves f intersect only in r 1
and one of
the points ~ t 1
, or ~
. Furthermore, since all the zero motion contours have to be closed
curves on the hemisphere, we conclude that if there exists a contradictory area, it also has to
be in a neighborhood of r 1
. It thus suffices to consider all possible sign combinations of terms
. It can be verified that, for a hemisphere to contain only ambiguous
areas, the two translations have to have the same sign, that is sgn(t 1
Also
the two rotations have to have the same sign, i.e., sgn(! 1
Furthermore,
the relative positions of t 1 , have to be such that
\Theta t 2
Intuitively this means, when rotating in the orientation given by the rotations in
order to make f then the order of points t 1
and t 2
on f
opposite to the order of points ~
and ~
on (moving along the same direction along
\Gamma1, the order of points
and \Gammat 2
on f must be the same as the order of points ~
and ~
on
In summary, we have shown that two rigid motions could be ambiguous on one hemi-
sphere, if (t 1
\Theta t 2
is perpendicular to (! 1
but only if certain sign and certain distance
conditions on t 1 , are met. In addition, as shown in Section 3, the two surfaces
in view are constrained by a second and a third order surface (as shown in equations (15)
and (16)).

Figure

gives an example of such a configuration.
x
(a) (b)

Figure

10: Both halves of the sphere showing two rigid motions for which there do not exist
contradictory areas in one hemisphere. (a) Hemisphere containing only ambiguous areas.
(b) Contradictory areas for the other hemisphere.
In the next section we discuss the special cases and show that they do not allow for
ambiguity. Thus the case of (t 1 \Theta t 2 ) being perpendicular to (! 1 \Theta ! 2 ) is the only case where
two motions can produce the same direction of the motion field on a hemisphere. An analysis
concerned with ambiguities due to more than two rigid motions is given in Appendix A.
5 Special Cases
In previous sections, we assumed that t 1
\Theta t 2
Here we show that if
these conditions do not hold, then the two motions are not ambiguous.
In Section 3 we assumed all four vectors t 1
to be of unit length. Here the
four vectors can also be zero. Thus we have two different motions (i.e. t 1
such that t 1
\Theta t 2
To cover all possible cases we are required to make a minor assumption about the depth
and Z 2
for the case where ! 1
. Then we have t 1
, and f From (10) we obtain the
constraint
22
). So at points where g 21
and g 22
have different signs, the
only possible solution is 1
Infinite values for both depths in these areas would
result in pure rotational flow fields in these areas and thus in an ambiguity. The same kind
of ambiguity would occur if we considered the full flow. Therefore it seems reasonable to
assume that at least at one point in the areas where g 11 g 22 ! 0, depths Z 1
and Z 2
are not
both infinite. Under this assumption there does not exist ambiguity for the case of ! 1
In the following we thus assume
Next we provide a lemma that will be of use in the following proofs concerned with special
cases as well as in the proof for full flow in Section 6.
As in the previous section, let the image be a half sphere
with equator q, let n 0
be a unit vector normal to the plane of q. Then equation
Z
can be satisfied everywhere in the image only if t j \Theta n 0
are non-zero, there are points in the image where
\Theta t 2
must be non-zero and geodesic n connecting t 1
and t 2
is well defined. Equation (28)
can be satisfied only if the zero motion contour is degenerate, i.e., ! i \Deltat (as in Figure 14b).
Then the contour consists of two great circles. One of the circles must be identical to the
geodesic n, and the other circle must be identical to q, the border of the image. This is
possible only if t j \Theta n 0

Figure


Figure

11: If sgn( 1
Z
everywhere, the zero motion contour consists of
two great circles, one identical to the border of the hemisphere, the other identical to f
We now consider two special cases in parts A and B.
A: Let us assume that all t i and ! i are non-zero.
everywhere. Thus from condition (9) we obtain sgn(g 12
sgn(g 22
four vectors are non-zero, this is possible only if ! 1
So we only need to consider the case ! 1
0, and since we also assume ! 1
, we
have
. Then at any point in the image, g 2j
\Gammag 1j
(r). Thus (9) can be satisfied
only if sgn( 1
). According to the lemma, this is possible only if t 2
\Theta n 0
Similarly (11) can be satisfied only if sgn( 1
). So from the lemma we obtain
\Theta n 0
Therefore we have t 1
\Theta t 2
everywhere, and the motions
are contradictory.
B: If one of the motion parameters is zero, we obtain either a pure translational or a pure
rotational flow field. By considering all the possible cases, it can be verified that the two
motions are not ambiguous. Here we just consider one of the more difficult cases.
Then at any point, g 11
So from (9) we obtain sgn( 1
), from (11) we have
). From the lemma, this is possible only if t 2
\Theta n 0
\Theta n 0
thus again we obtain t 1
\Theta t 2
and the motions are contradictory.
If two of the motions are zero, that is if either t equivalently
either two rotational, or one translational and one rotational field,
which obviously cannot have the same direction.
6 Ambiguities of the Full Flow
Next we investigate the question whether there can be any ambiguities at all if we consider
the complete flow. Horn has shown in [6] that two motions can produce ambiguous flow
fields only if the observed surfaces are certain hyperboloids of one sheet. We show that if we
also consider the depth positivity constraint and if the image is a half of the sphere, then
any two different motions can be distinguished.
Let the image be a hemisphere bounded by equator q. Let n 0
be a unit vector normal to
the plane of q. As in [6], let us assume that a motion (t 1
along with a depth map Z 1
and a motion
along with a depth map Z 2
, yield the same flow field. At each point
we obtain a vector equation
(r \Theta (t 1
\Theta
\Theta
(r \Theta (t 2
\Theta
\Theta r (29)
Projecting on directions t 1
\Theta r and t 2
\Theta r, we obtain equations for the two critical
\Theta
\Theta
then according to the lemma in the previous section, these
equations can be satisfied everywhere in the image only if ffi!
and t 2
\Theta n 0
Thus we we obtain t 1
\Theta t 2
case corresponds to Section 4.5 in [6],
that is, to the case when both critical surfaces consist of intersecting planes.) Therefore we
are left only with special cases: Ambiguity can occur only if t 1
\Theta t 2
\Theta t 2
0, from constraint (30) we get for any r
(ffi! \Theta r) \Delta (t 2
\Theta
must be zero. Similarly from constraint (31) we get t Thus we
have a pair of rigid motions with different rotations and zero translations. Clearly these two
motions are not ambiguous.
There is one special case left, At each point we get a vector equation
(r \Theta (t 1
\Theta
(r \Theta (t 2
\Theta r)) (33)
Since we have two different motions and
. So the equation can be
satisfied only when 1
all points not lying on geodesic n passing through t 1
and t 2
. If we do not allow infinite depth, the motions are not ambiguous.
Conclusions
In this paper we have analyzed the amount of information inherent in the directions of rigid
flow fields. We have shown that in almost all cases there is enough information to determine
up to a multiplicative constant both the 3D-rotational and 3D-translational motion from
a hemispherical image. Ambiguities can result only if the surfaces in view satisfy certain
inequality and equality constraints. Furthermore, for two 3D motions to be compatible the
two translation vectors must lie on a geodesic perpendicular to the geodesic through the two
rotation vectors. With this analysis we have also shown that visual motion analysis does not
necessarily require the intermediate computation of optical flow or exact correspondence.
Instead, many dynamic vision problems might be solved with the use of more qualitative
flow estimates if appropriate global constraints are found.


Appendix



Appendix

A Ambiguity due to more than two motions
In this appendix we investigate whether three or more different rigid motions and their
corresponding surfaces could possibly produce the same direction of the motion field on a
hemisphere. We present proofs contradicting the ambiguity of almost all combinations of
three rigid motions.
Let us consider any three different rigid motions
), such that
any two of the directional motion fields produced are the same, i.e.
j. In the following proofs it will be shown that in
general there exist areas in the image where the corresponding depth Z 3
cannot at the same
time allow motions (t 1
to produce the
same directional flow.
Let us consider the intersections of the zero motion contours g ii = 0. In the sequel we
consider separately in part A the general case where two of the zero motion contours intersect
in at least two points, and in part B the case where any two zero motion contours are tangent
to each other. (Appendix E describes the conditions on the motion parameters for two zero
motion contours to be tangential.)
A: Let us assume that two of the zero motion contours are not tangential; let these be
22
be the intersection point where
\Theta t 2
are parallel. Let p 12
be another intersection point where g 11
and g 22
cross. Vectors v rot 1
(p 12
(p 12
are
not parallel, and v tr 1
(p 12
(p 12
(p 12
(p 12
positive - 1
or - 2
were negative, point p 12
would be contradictory). Unless g 33
(p 12
we have v tr 3
(p 12
(p 12

Figure

12a shows a possible configuration of the motion
vectors at p 12
We next consider the directions of v rot i
(r) and v tr i
(r) for points r in the neighborhood
of p 12
. Let n 0
be a unit vector in the direction v tr 3
(p 11
(p 12
the
sign of (v tr i
(r) \Theta v rot i
changes from inside g ii = 0 to outside g ii = 0 (that is, for
example, the angle between v tr 1
(r) and v rot 1
(r) is greater than 180 ffi inside g 11
smaller than 180 ffi outside g 11
vice versa). The sign of (v tr 3
(r) \Theta v rot 3
is
the same in a sufficiently small neighborhood around p 12
. Since g 11
22
at
there are four neighborhoods around p 12
with all four possible sign combinations of
(v tr 1
\Theta v rot 1
and (v tr 2
\Theta v rot 2
. Thus for points r in one of the neighborhoods, in order
for
(r) to have the same direction as v tr 3
must lie in an interval
[a; b], and for v tr 2
(r) to have the same direction as v tr 3
must lie
in an interval [c; d], where the intersection of [a; b] and [c; d] is empty. Therefore the three
motions cannot give rise to the same direction at r. For an example see Figure 12b.
B: We next consider the case where all three zero motion contours are tangent to each
other. For the case where not all three are tangential at the same point, using arguments
similar to those used before, we prove that there cannot be an ambiguity.
For at least two of the zero motion contours, say g 11
22
0, we have that
at the intersection point r 12
the two curvature vectors - g 11
of g 11
22
of g 22
sign. Also, the translational and rotational components are such
that v tr 1
Figure 13a and b for an
illustration). Let n 0 be a unit vector in the direction v tr 3
(r 12 ). At points r in
the neighborhood of r 12
we obtain three of the four possible sign combinations for the signs
of (v rot 1
(r) \Theta v tr 1
and (v tr 2
(r) \Theta v rot 2
. In both areas outside g 11
outside
(r) \Theta v tr 1
(r) \Theta v rot 2
in one of
(a) (b)

Figure

12: (a) Possible motion configuration at point p 12
. (b) There must exist a neighborhood
around
with points r, such that for n 0
(p 12
(p 12
)=jv tr 3
(p 12
(p 12
)j,
(v rot 1
\Theta v tr 1
\Theta v rot 2
In order for u 3
(v tr 3
(r)),
has to be in the sector S 1
and Z 3
has to take values in the interval
(0; b]. In order for u 3
(v tr 3
(r)),
has to be in the sector
3 has to take values in the interval [c; 1] with b ! c.
the areas (v tr 2
(r) \Theta v rot 1
and in the other (v tr 2
(r) \Theta v rot 1
(v tr 3
(r) \Theta v rot 3
doesn't change sign in the neighborhood of r 12
, in one of the two areas
the depth Z 3 of the third surface cannot be compatible with both the first and the second
motion (see Figure 13c).
r 12
tr
tr
r 12
(a) (b) (c)

Figure

13: (a) Intersection of zero motion contours g 11
22
with
22
motion configuration at point r 12
. (c) At point r in one of
the areas outside g 11
22
) the depth of Z 3
cannot be compatible
with both (v tr 1
(r)) and (v tr 2
(r)).
Thus, in summary we have shown that more than two different rigid motions can hardly
ever give rise to the same direction of flow at every point on a hemisphere. The only possible
configurations of motions that may be contradictory, provided the surfaces in view satisfy
the constraints described in Section 3, are:
a: three or more motions such that the corresponding zero motion contours
in the same point
b: three or more motions, such that all corresponding zero motion contours g ii = 0 are
tangential at the same point r 12
, which as described in Appendix E, can occur only if
tan
tan


Appendix

motion contours
Let us consider the following question: What is the locus of points where the flow due to
the given rigid motion can possibly be zero? As in [4] we can show that such points are
constrained to lie on a second order curve on the sphere.
The flow at point r can be zero only if the rotational and translational components at
r are parallel to each other. Let t and ! be translational and rotational velocity of the
observer. Then the flow at point r can be zero only if
(r \Theta (t \Theta r)) \Theta (! \Theta
By simple vector manipulation, from (34) we obtain
Since r 6= 0, the flow at point r can be zero only if
(! \Theta r) \Delta (t \Theta
Equation (36) describes a second order curve on the sphere, which we will call the zero
motion contour of the rigid motion (t; !). The zero-motion contour consists of two closed
curves on the sphere. As shown in Figure 14, if (! one of the curves contains t
and one contains \Gammat 0 and \Gamma! the two curves become great
circles, one orthogonal to t, the other orthogonal to !; if (! \Delta one of the two curves
and \Gamma! 0
and the other through \Gammat 0
-t
-w
-t
-w
(a) (b) (c)

Figure

14: The zero motion contour (the locus of points r where -
r could be zero) consists
of two closed curves on the sphere. Three possible configurations are (a) (!


Appendix

C Zero motion contours are not tangent
To show that zero motion contours g 11 and g 12 are not tangent at r 1 (see Section 4.1, part A),
let us compute tangent lines to the contours at r 1
. Let the direction of the line tangent to
at r 1
be
. The line lies in the plane tangent to the sphere, so
Directional derivative of g 11
along
must be zero. Let r
dg 11
d"
\Theta u 1
\Theta r 1
\Theta r 1
\Theta u 1
\Theta u 1
\Theta u 1
must also satisfy
Thus we obtain
We can compute the tangent direction from (40) and (37) as
\Theta ((! 1
Similarly, the direction tangent to g 12
is
\Theta ((! 1
lies on geodesic n, we get
\Theta u 2
\Theta t 2
\Theta t 2
\Theta (! 1
\Theta r 1
Also
\Theta t 2
and
\Theta t 2
\Theta (! 1
\Theta r 1
\Theta t 2
\Theta t 2
\Theta u 2
is not zero, and the two zero motion contours cross at point r 1


Appendix

D Zero motion contour crossing the border of the image
Let the half sphere image be bounded by equator q, let n 0
be a unit vector normal to the
plane of q. We would like to know whether the zero motion contour of motion (t; !) intersects
equator q.
Let us choose a Cartesian coordinate system such that n 0
Points on equator q can be written as [cos OE; sin OE; 0]. Thus the zero
motion contour (! \Theta r) \Delta (t \Theta r) = 0 intersects q if equation
has a solution.
Writing tan OE, we obtain a quadratic equation
This equation has a real solution if
After some manipulation, we obtain


Appendix

Intersections of zero motion contours
) be two ambiguous motions. Let us investigate possible intersection
points of the zero motion contours of the two motions.
Since ambiguity is possible only when
\Theta t 2
\Theta t 2
we can choose a Cartesian coordinate system such that
\Theta t 2
\Theta t 2
Y
In this coordinate system, we can write t 1
Clearly, both zero motion contours pass through point [0; 0; 1]. We would like to know
whether this is the only intersection point.
were zero, we would have t 1
thus the zero motion contour g 11
would be
degenerate. This is not possible if the motions are ambiguous. Thus W 1
6= 0, and similarly
are non-zero.
Since the zero motion contour does not depend on the size (and direction) of vectors t
and !, we can re-scale vectors t multiplying by - i 6= 0 such that
Let us consider point z] such that (! \Theta r) \Delta (t \Theta r) = 0. If z 6= 0, point
the equation. Thus it is enough to consider two possible
sets of points: points of the form points lying in the plane tangent to the
sphere at [0; 0; 1]), and points (these points correspond to points at infinity on
the tangent plane).
A: To obtain the possible intersection points we express the zero motion
contours as
\Theta r) \Delta
\Theta r) \Delta
We can compute y from the difference of the two equations as
Substituting (54) into (52), we obtain a polynomial equation of degree 4 in x. One
solution is (both zero motion contours pass through point [0; 0; 1]). The remaining
equation of degree 3 has at least one real solution.
another solution Otherwise the two
contours intersect in two different points. Since ! 1
6= 0, we know -
the two zero motion contours are tangent only if -
. If this is the case, we obtain
an equation of degree 2 in x. Its discriminant is
Thus if j -
2, the two zero motion contours are tangent at [0; 0; 1], but
intersect at two other points.
B: Now we compute intersection points
we obtain equations xy -
so such intersection point exists only if
In the previous part we have shown that if -
, the two zero motion contours
have more than one intersection point. So it is enough to check the tangential case here.
If the two contours are tangent at [0; 0; 1], from -
j. Since t 1
\Theta t 2
6= 0, this is possible only if -
and -
Writing sin OE, we obtain equation
so again there is an intersection point if j -
2.
Therefore the two zero motion contours have only one intersection point if -
2. If we denote the intersection point of g 11
and g 22
as r 12
, this can
be written as
tan
tan
tan
tan
where
6 (\Delta; \Delta) denotes the angle between two vectors.
This relationship can also be expressed as
Furthermore from (55) we obtain the constraint
\Theta t 2


Appendix

F Antipodal contradictory points
Here for the purpose of providing a description of the areas where two motion fields are
ambiguous, the conditions are developed for point r and its antipodal point \Gammar both to be
contradictory.
Clearly, if one of the CP-conditions holds for r, it cannot be true for \Gammar. So if both r
and \Gammar are contradictory, two of the conditions must hold at r and the other two at \Gammar.
If (18) and (19) hold at r and (20), (21) at \Gammar, we get
at r and
at \Gammar. Thus
If (18) and (20) hold at r and (19), (21) at \Gammar, we get sgn(g 12
at r and
22 ) at \Gammar, so this case cannot occur.
If (18) and (21) hold at r and (19), (20) at \Gammar, we get
at r and
at \Gammar. So we get
Thus point r and point \Gammar are both contradictory if and only if



--R

Optical flow from 1-D correlation: Application to a simple time-to-crash detector
Motion and structure from motion from point and line matches.
Passive navigation as a pattern recognition problem.
On the geometry of visual correspondence.
Qualitative egomotion.
Motion fields are hardly ever ambiguous.
Relative orientation.
A computer algorithm for reconstruction of a scene from two projections.
Theory of Reconstruction from Image Motion.
Critical surface pairs and triplets.
Direct passive navigation.
Structure from motion using line correspondences.
Dynamic aspects in active vision.
Uniqueness and estimation of three-dimensional motion parameters of rigid objects with curved surfaces
Robust and fast computation of edge characteristics in image sequences.
--TR
Direct passive navigation
Structure from motion using line correspondences
Relative orientation
Dynamic aspects in active vision
Robust and fast computation of edge characteristics in image sequences
Qualitative egomotion
Optical flow from 1-D correlation
Passive navigation as a pattern recognition problem
On the Geometry of Visual Correspondence

--CTR
Tom Svoboda , Tom Pajdla, Epipolar Geometry for Central Catadioptric Cameras, International Journal of Computer Vision, v.49 n.1, p.23-37, August 2002
Fermller , Yiannis Aloimonos, Ambiguity in Structure from Motion: Sphere versus Plane, International Journal of Computer Vision, v.28 n.2, p.137-154, June 1998
Tom Brodsk , Cornelia Fermller , Yiannis Aloimonos, Structure from Motion: Beyond the Epipolar Constraint, International Journal of Computer Vision, v.37 n.3, p.231-258, June 2000
